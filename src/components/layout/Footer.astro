---
import Link from '@components/ui/Link.astro';
import NewsletterForm from '@components/ui/NewsletterForm.astro';
import { navigation, site } from '@utils/posts';
import { Icon } from 'astro-icon/components';

const footerLinkSections = navigation.footer;

const currentYear = new Date().getFullYear();
---

<footer
	class="relative z-50 mt-24 border-t border-neutral-200 bg-gray-50 dark:border-neutral-700 dark:bg-neutral-950"
>
	<div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
		<div class="py-16">
			<div class="grid grid-cols-1 gap-8 md:grid-cols-4">
				<!-- Brand -->
				<div class="space-y-4">
					<h2 class="text-lg font-semibold">
						{site.title}
					</h2>
					<p class="text-sm text-gray-700 dark:text-gray-300">
						{site.description}
					</p>
					<!-- Social Links -->
					<div class="flex space-x-4">
						{
							site.socials.map(({ label, url, icon }) => (
								<Link variant="plain" href={url} aria-label={label}>
									<Icon name={`lucide:${icon}`} class="size-5" />
								</Link>
							))
						}
					</div>
				</div>

				<!-- Footer Link Sections -->
				{
					footerLinkSections.map((section) => (
						<div>
							<h3 class="text-sm font-semibold tracking-wider uppercase">{section.title}</h3>
							<ul class="mt-4 space-y-2">
								{section.links.map((link) => (
									<li>
										<Link variant="plain" href={link.url} class="text-sm">
											{link.name}
										</Link>
									</li>
								))}
							</ul>
						</div>
					))
				}

				<!-- Newsletter -->
				<div>
					<h3 class="text-sm font-semibold tracking-wider uppercase">Stay Updated</h3>
					<p class="mt-4 text-sm text-gray-700 dark:text-gray-300">
						Subscribe to my newsletter for latest updates.
					</p>
					<div class="mt-4">
						<NewsletterForm />
					</div>
				</div>
			</div>
		</div>

		<!-- Bottom Bar -->
		<div class="border-t border-neutral-300 py-8 dark:border-neutral-700">
			<div class="flex flex-col items-center justify-between gap-4 sm:flex-row">
				<p class="text-sm">
					&copy; {currentYear}
					{site.title}. All rights reserved.
				</p>
				<div class="flex space-x-6">
					<Link variant="plain" href="/privacy" class="text-sm"> Privacy Policy </Link>
					<Link variant="plain" href="/terms" class="text-sm"> Terms of Service </Link>
				</div>
			</div>
		</div>
	</div>
</footer>
