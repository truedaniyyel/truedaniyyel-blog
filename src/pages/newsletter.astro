---
import { server } from '../actions';

const siteKey = import.meta.env.PUBLIC_TURNSTILE_SITE_KEY;
---

<html lang="en">
	<head>
		<script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
	</head>
	<body class="prose mx-auto p-6">
		<h1>Newsletter</h1>

		<form method="POST" action={server.newsletterSubscribe} class="grid gap-4">
			<label>
				Email
				<input type="email" name="email" required class="input" />
			</label>

			<div class="cf-turnstile" data-sitekey={siteKey}></div>

			<button type="submit" class="btn">Subscribe</button>
		</form>
	</body>
</html>
