@import 'tailwindcss';

@plugin "@tailwindcss/typography";

@custom-variant dark (&:where(.dark, .dark *));

@font-face {
	font-family: 'JetBrains Mono';
	src: url('/fonts/JetBrainsMono-VariableFont_wght.ttf') format('truetype-variations');
	font-weight: 100 900;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'JetBrains Mono';
	src: url('/fonts/JetBrainsMono-Italic-VariableFont_wght.ttf') format('truetype-variations');
	font-weight: 100 900;
	font-style: italic;
	font-display: swap;
}

/* Post styling */
.prose a:not(.anchor) {
	@apply inline-block text-blue-600 underline decoration-transparent transition-all duration-250 ease-out hover:decoration-current active:scale-95 dark:text-yellow-400;
}

.prose .anchor {
	@apply relative inline-block text-inherit decoration-transparent transition-all duration-250 ease-out hover:text-blue-500 hover:decoration-current active:scale-95 dark:hover:text-yellow-400;
}

.prose .anchor::before {
	content: '';
	position: absolute;
	top: -10px;
	right: -7px;
	bottom: -10px;
	left: -7px;
}

.prose {
	--prose-decoration-color: oklch(44.6% 0.03 256.802);
	--tw-prose-bullets: var(--prose-decoration-color);
	--tw-prose-counters: var(--prose-decoration-color);
	--tw-prose-quote-borders: var(--prose-decoration-color);
	--tw-prose-hr: var(--prose-decoration-color);
	--tw-prose-th-borders: var(--prose-decoration-color);
	--tw-prose-td-borders: var(--prose-decoration-color);
}

.dark .prose {
	--prose-decoration-color: oklch(70.7% 0.022 261.325);
}

.prose :where(code):not(:where(pre *)) {
	@apply mx-0.5 rounded-md bg-neutral-700 px-1.5 py-1 font-mono text-sm text-neutral-50 dark:bg-neutral-200 dark:text-neutral-950;
}

.prose kbd {
	@apply inline-block rounded-md border border-b-2 px-1.5 py-0.5 align-middle font-mono text-sm font-semibold;
	@apply border-neutral-300 bg-neutral-100 text-neutral-950 dark:border-neutral-500 dark:bg-neutral-700 dark:text-neutral-50;
}

.prose mark {
	@apply rounded-md bg-blue-500/30 px-1 py-0.5 text-blue-900 dark:bg-yellow-400/30 dark:text-yellow-100;
}

/* TOC styling */
/* Active link styling */
.toc-item-wrapper.is-active > a {
	@apply font-semibold text-blue-600 dark:text-yellow-400;
}

/* Read link styling */
.toc-item-wrapper.is-read > a {
	@apply text-gray-500 dark:text-neutral-400;
}

/* Active section background highlight */
.toc-item-wrapper.is-active,
.toc-item-wrapper.has-active-child {
	@apply bg-blue-500/10 dark:bg-yellow-400/10;
}

/* Layout adjustments for heading depth */
.toc-item-wrapper[data-depth='2'] {
	@apply rounded-lg;
}
.toc-item-wrapper[data-depth='3'] {
	@apply mr-4 ml-4 rounded-md;
}

.toc-item-wrapper > ul {
	@apply pb-3.5;
}
